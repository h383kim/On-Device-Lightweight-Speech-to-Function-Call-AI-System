# 파일 이동 가이드

CPU 인스턴스와 GPU 인스턴스 간의 파일을 이동하는 방법을 안내합니다.

---

## 1. 파일을 로컬 PC에 다운로드 받아서 이동하는 방법

### 1.1. 파일/폴더 압축 (zip)

동기화할 파일이나 폴더를 zip 파일로 압축합니다.

```bash
zip -r my_files.zip my_files
```

현재 경로와 그 하위 경로 전체를 압축하고 싶을 경우 아래 명령어를 사용합니다.

```bash
zip -r my_files.zip .
```

현재 경로와 그 하위 경로 전체를 압축하면서, my_files 폴더는 제외하고 싶다면 아래 명령어를 사용합니다.

```bash
zip -r my_files.zip . -x my_files/
```

### 1.2. 파일 전송

생성된 zip 파일을 탐색기에서 우클릭 후 다운로드 합니다.

만약 다운로드가 되지 않는다면, 우측 상단의 더 보기 > 런박스 URL 복사 를 클릭해서 URL을 복사하고, 웹 브라우저의 새 탭에 붙여넣기 하여 새 화면에 이 인스턴스를 띄워주세요. 그 화면에서는 다운로드 하실 수 있습니다.

### 1.3. 파일 업로드

이동을 원하는 (CPU/GPU) 인스턴스의 VSCode 탐색기에 다운로드 받은 zip 파일을 드래그 앤 드롭하여 업로드 합니다.

### 1.4. 파일 압축 해제

아래 명령어를 통해 파일 압축을 해제합니다. 압축 해제 결과는 my_files 폴더에 저장됩니다.

```bash
unzip my_files.zip -d my_files
```

### 1.5. 파일 이동

파일을 이동하고 싶은 경우, 파일 압축 해제 결과를 원하는 위치로 이동합니다. 이때 rsync를 활용해서 기존 파일과 동기화 할 수 있습니다.

기존 파일이 덮어씌워지며 이는 되돌릴 수 없으므로 유의하세요.

```bash
# 이 행동으로 인해 업데이트 된 파일은 되돌릴 수 없으므로 유의해주세요.
rsync -zavh /path/to/source /path/to/destination
```

my_files 폴더에 압축 해제 된 파일을 현재 경로에 덮어씌우고 싶다면 아래 명령어를 사용합니다.

```bash
rsync -zavh my_files/ .
```

source 폴더에 없는 파일이 destionation 폴더에 있더라도, destination 폴더에 있는 파일이 삭제되지 않습니다.

만약 source 폴더에 없는 파일이 destionation 폴더에 있는 경우 삭제하고 싶다면 아래 명령어를 사용합니다. **이는 되돌릴 수 없으므로 유의하세요.**

```bash
# 이 행동으로 인해 삭제된 파일은 되돌릴 수 없으므로 유의해주세요.
rsync -zavh --delete my_files/ .
```
